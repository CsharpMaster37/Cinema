@model IEnumerable<Cinema.Models.Film>

@{
    ViewData["Title"] = "Index";
}

<style>
    .film-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        margin-bottom: 20px;
    }

    .film-item {
        width: calc(50% - 10px);
        min-width: 300px;
        margin-bottom: 20px;
        line-height: 1.4;
        border: 1px solid #ccc;
        padding: 20px;
        box-sizing: border-box;
    }

    .film-name {
        font-size: 24px;
        font-weight: bold;
        margin-bottom: 10px;
    }

    .film-details {
        flex-grow: 1;
    }

    .film-info p {
        margin-bottom: 10px;
    }

    .btn-group {
        align-self: flex-end;
    }

    .img-container {
        width: 100%;
        max-width: 368px;
        height: auto;
        border: 1px solid #ccc;
    }
    .btn{
        margin: 10px 0px 10px 0px;
    }
</style>


<h1>Мои фильмы</h1>
<div>
    <form asp-action="Search" method="get" class="form-inline">
        <div class="form-group">
            <label for="searchInput">Поиск:</label>
            <input type="text" id="searchInput" name="searchString" class="form-control" value="@ViewBag.SearchString" />
        </div>
        <button type="submit" class="btn btn-info">Искать</button>
        <a asp-action="Index" class="btn btn-info">Сбросить</a>
    </form>
</div>
<div class="film-container">
    @foreach (var item in Model)
    {
        <div class="film-item">
            <div class="img-container">
                @if (!string.IsNullOrEmpty(item.ImageUrl))
                {
                    <img src="@Url.Content("~/images/")@item.ImageUrl" alt="@item.Name" class="card-img-top" />
                }
                else
                {
                    <img src="@Url.Content("~/images/")null_image.jpg" alt="@item.Name" class="card-img-top" />
                }
            </div>
            <div class="film-details">
                <p class="film-name">@item.Name</p>
                <div class="film-info">
                    <p><strong>Страна:</strong> @item.Country</p>
                    <p><strong>Год:</strong> @item.Year</p>
                    <p><strong>Жанр:</strong> @item.Genre.Name</p>
                </div>
                <div class="card-footer">
                    <a asp-action="" asp-controller="" asp-route-id="@item.Id" class="btn btn-info">Смотреть</a>
                    <a class="btn btn-info" asp-action="Reviews" asp-controller="Review" asp-route-id="@item.Id">Отзывы</a>
                </div>
            </div>
        </div>
    }
</div>
